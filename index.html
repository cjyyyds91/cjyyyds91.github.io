<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>快手极速跳转</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
        body{
            min-height:100vh;
            background:url('https://img95.699pic.com/xsj/0m/m6/4n.jpg!w300') center/cover fixed;
            overflow-y:scroll;
            font-family:'PingFang SC','Microsoft YaHei',sans-serif;
            position:relative;
        }
        body::before{
            content:"";
            position:fixed;
            top:0;left:0;
            width:100%;height:100%;
            background:inherit;
            z-index:-1;
        }
        .scroll-area{height:200vh}
        .avatar{
            position:fixed;
            top:20px;left:20px;
            width:60px;height:60px;
            border-radius:50%;
            background:#fff;
            border:2px solid #fff;
            box-shadow:0 2px 10px rgba(0,0,0,0.3);
            cursor:pointer;
            z-index:1000;
            overflow:hidden;
            transition:transform 0.2s;
            animation:pulse 2s infinite;
        }
        .avatar img{width:100%;height:100%;object-fit:cover}
        .avatar:active{transform:scale(0.9)}
        .loader{
            position:fixed;
            top:0;left:0;
            width:100%;height:100%;
            background:rgba(0,0,0,0.85);
            display:flex;
            flex-direction:column;
            justify-content:center;
            align-items:center;
            z-index:2000;
            color:#FF2D55;
            display:none;
        }
        .spinner{
            width:60px;height:60px;
            border:5px solid rgba(255,255,255,0.2);
            border-top:5px solid #FF2D55;
            border-radius:50%;
            animation:spin 1s linear infinite;
            margin-bottom:20px;
        }
        .loader-text{
            font-size:1.5rem;
            font-weight:bold;
            text-shadow:0 2px 4px rgba(0,0,0,0.5);
        }
        @keyframes spin{to{transform:rotate(360deg)}}
        @keyframes pulse{
            0%{transform:scale(1);box-shadow:0 0 0 0 rgba(255,45,85,0.7)}
            70%{transform:scale(1.05);box-shadow:0 0 0 12px rgba(255,45,85,0)}
            100%{transform:scale(1);box-shadow:0 0 0 0 rgba(255,45,85,0)}
        }
        @media (max-width:480px){
            .avatar{width:50px;height:50px;top:15px;left:15px}
        }
    </style>
</head>
<body>
    <div class="avatar" onclick="jumpToKuaishou()">
        <img src="https://p66-pro.a.yximgs.com/uhead/AB/2025/06/19/17/BMjAyNTA2MTkxNzQyNTBfNDYyNDAzOTg0N18yX2hkMzNfNzky_s.jpg" alt="快手头像">
    </div>
    
    <div class="scroll-area"></div>
    
    <div class="loader" id="loader">
        <div class="spinner"></div>
        <div class="loader-text">正在唤起快手App...</div>
    </div>

    <script>
        // 预加载图片确保立即显示
        new Image().src = 'https://img95.699pic.com/xsj/0m/m6/4n.jpg!w300';
        new Image().src = 'https://p66-pro.a.yximgs.com/uhead/AB/2025/06/19/17/BMjAyNTA2MTkxNzQyNTBfNDYyNDAzOTg0N18yX2hkMzNfNzky_s.jpg';
        
        function jumpToKuaishou() {
            const loader = document.getElementById('loader');
            loader.style.display = 'flex';
            
            // 快手App的scheme（直接唤起应用）
            const kuaishouScheme = 'kuaishou://short-video/nSmK2Dap';
            
            // 创建iframe唤起App（iOS兼容）
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.src = kuaishouScheme;
            document.body.appendChild(iframe);
            
            // 立即尝试唤起App
            setTimeout(() => {
                window.location.href = kuaishouScheme;
            }, 10);
            
            // 监听页面可见性变化（判断是否唤起成功）
            document.addEventListener('visibilitychange', function() {
                if (document.hidden) loader.style.display = 'none';
            });
            
            // 如果500ms后页面仍然可见，说明唤起失败
            setTimeout(() => {
                if (!document.hidden) {
                    loader.style.display = 'none';
                    alert('未检测到快手App，请确保已安装最新版快手');
                }
            }, 500);
        }
    </script>
</body>
</html>
